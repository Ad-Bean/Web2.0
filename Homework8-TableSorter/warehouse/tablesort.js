for (let i = 0; i < $("th").length; i++) { $(`th:nth-child(${i + 1})`).click(function (e) { let todoData = $(e.target).parents("table").children("tbody").find("tr:gt(0)"); let test = todoData.map(function (v, u) { return u.outerHTML.replace(/[<][t][r][>]/g, "").replace(/[<][/][t][r][>]/g, ""); })        test.sort(function (a, b) { let posA = a.indexOf("<td>"); let endA = a.indexOf("</td>"); let posB = b.indexOf("</td>"); let endB = b.indexOf("</td>"); if (i == 0) { let tmpA = a.slice(posA + 4, endA).replace(/(<\/?a.*?>)|(<\/?span.*?>)/g, '').replace("&lt;", ""); let tmpB = b.slice(posB + 4, endB).replace(/(<\/?a.*?>)|(<\/?span.*?>)/g, '').replace("&lt;", ""); return tmpA > tmpB; } else { posA = a.indexOf("<td>", posA + 4); endA = a.indexOf("</td>", endA + 5); posB = b.indexOf("<td>", posB + 4); endB = b.indexOf("</td>", endB + 5); let tmpA = a.slice(posA + 4, endA).replace(/(<\/?a.*?>)|(<\/?span.*?>)/g, '').replace("&lt;", ""); let tmpB = b.slice(posB + 4, endB).replace(/(<\/?a.*?>)|(<\/?span.*?>)/g, '').replace("&lt;", ""); return tmpA > tmpB; } })        $(e.target).parents("table").children("tbody").find("td").remove(); for (let j = 0; j < test.length; j++) { $(`tbody tr:eq(${j + 1})`).append(test[j]); } }) }